## 图的基本操作

> 比较重要的基本操作：firstNeighbor(G, x); & nextNeighbor(G, x, y); 考研中对于 「图的遍历算法」 可以直接调用这两个接口
>
> 这节课更适合看视频 & 写代码加深理解，因为都不难
>
> 而非文字叙述

### 前言

> 基于存储结构，实现一系列基本操作

<img src='https://gitee.com/pj-l/imgs-1/raw/master/screenShot/image-20211124110623191.png' style='float: left;'></img>

> 本笔记偏向考研，所以这里我们只探讨基于（邻接矩阵法 & 邻接表法）的存储结构实现基本操作的思路

### 总览

> 思路：遍历 + 增删改查

<img src='https://gitee.com/pj-l/imgs-1/raw/master/screenShot/image-20211124110835145.png' style='float: left;'></img>

### 判断图 G 是否存在边 (x, y) 或 弧 <x, y>

```c
// 函数原型
isEdgeExist(G, x, y);
```

#### 无向图

##### 邻接矩阵法

- 无向图的邻接矩阵是 「对称阵」，所以判断图 G 是否存在边 (x, y) 很方便，只需看邻接矩阵 **A** 中 **A\[x][y]** 是否为 1 即可

- 时间复杂度：O(1)

##### 邻接表法

- 只需遍历一个顶点的边结点链表

  - 最好情况：边结点链表的第一个结点就是要找的边

  - 最坏情况：该顶点邻接了尽可能多的边（一个顶点最多邻接 n-1 条边），并且将该顶点的边结点链表遍历完之后也没找到要查找的边

- 结论：

	- 时间复杂度： O(1) ~ O(|V|)

#### 有向图

> 分析方法和无向图一样，同样地，判断边/弧是否存在，邻接矩阵法更优秀 ！

### 列出图 G 中与顶点 x 邻接的所有边

```c
// 函数原型
Neighbors(G, x);
```

#### 无向图

##### 邻接矩阵法

- 时间复杂度 O(|V|)

##### 邻接表法

- 分析：

	- 最好情况：顶点 x 不邻接任何边，时间复杂度 O(1)

	- 最坏情况：顶点 x 邻接了尽可能多的边，最多邻接 |V| - 1 条边，要把这些边列出来，就得将边结点链表遍历一遍

- 结论：

	- 时间复杂度：O(1) ~ O(|V|)

#### 有向图

##### 邻接矩阵法

- 分析：

	- 列出顶点的出边：遍历行

	- 列出顶点的入边：遍历列

- 结论：

	- 时间复杂度：O(|V|)

##### 邻接表法

- 列 「出边」：O(1) ~ O(|V|)

- 列 「入边」：O(|E|)，即遍历整个邻接表才行，真呀么真麻烦～

> 但也不一定邻接矩阵和邻接表哪个效率高，比如存储的是稀疏图，|E| 的数量级就很小
>
> 具体问题具体分析

### 在图 G 中插入顶点 x

```c
// 函数原型
insertVertex(G, x);
```

#### 无向图

##### 邻接矩阵法

- O(1)

##### 邻接表法

- O(1)

#### 有向图

> 同理

### 从图 G 中删除顶点 x

```c
// 函数原型
delVertex(G, x);
```

#### 无向图

##### 邻接矩阵法

- O(|V|)

##### 邻接表法

- O(1) ~ O(|E|)

#### 有向图

##### 邻接矩阵法

- O(|V|)

##### 邻接表法

- 删 「出边」：O(1) ~ O(|V|)

- 删 「入边」：O(|E|)

> 但也不一定邻接矩阵和邻接表哪个效率高，比如存储的是稀疏图，|E| 的数量级就很小
>
> 具体问题具体分析

### 若边 (x, y) 或弧 <x, y> 不存在，则向图 G 中添加这条边/弧

```c
// 函数原型
addEdge(G, x, y);
```

#### 无向图

##### 邻接矩阵法

- O(1)

##### 邻接表法

> 采用链表的 「头插法」 比 「尾插法」 更省时间

- O(1) ~ O(|V|)

#### 有向图

- 同理

### 若边 (x, y) 或弧 <x, y> 存在，则删除这条边/弧

```c
// 函数原型
removeEdge(G, x, y);
```

### 求图 G 中顶点 x 的第一个邻接点

```c
// 函数原型
firstNeighbor(G, x);
```

- 若图中不存在 x，则返回 -1
- 若 x 没有邻接点，则返回 -1
- 否则返回顶点号

#### 无向图

##### 邻接矩阵法

- O(1) ~ O(|V|)

##### 邻接表法

- O(1)

#### 有向图

##### 邻接矩阵法

- O(1) ~ O(|V|)

##### 邻接表法

- 找出边的邻接点：O(1)

- 找入边的邻接点：O(1) ~ O(|E|)

### 求图 G 中顶点 x 的第二个邻接点

```c
// 函数原型
nextNeighbor(G, x, y);
```

- 图 G 中顶点 y 是顶点 x 的一个邻接点，返回除 y 之外，顶点 x 的下一个邻接点的顶点号

- 若 y 是 x 的最后一个邻接点，则返回 -1

#### 无向图

##### 邻接矩阵法

- O(1) ~ O(|V|)

##### 邻接表法

- O(1)

#### 有向图

##### 邻接矩阵法

- 略

##### 邻接表法

- 略
